FUNCTION_BLOCK EngraveX

VAR_INPUT
	YPOS0 : INT;
	XPOS0 : INT;
	XPOSACT : INT;
	YPOSACT : INT;
END_VAR

VAR_OUTPUT
	LASERPWM : REAL;
	XPOSOUT : INT;
	YPOSOUT : INT;
END_VAR

VAR_EXTERNAL
	curSeq : INT;
	cutDigit : INT;
END_VAR







IF (cutDigit = 0) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 550;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN 
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 24) THEN
curSeq := 100;
LASERPWM := 0.0;

END_IF;
END_IF;




IF (cutDigit = 1) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 768;
YPOSOUT := YPOS0 + 1303;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 985;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2405;
YPOSOUT := YPOS0 + 985;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2405;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 25) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 2) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 900;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 26) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 3) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 27) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 27) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 4) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 1412;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 1412;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 741;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 741;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 23) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 5) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1480;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
//23 is a placeholder for last sequence
IF(curSeq > 25) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 6) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 1575;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 26) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 7) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 22) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 8) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1430;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 1430;
YPOSOUT := YPOS0 + 550;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 1530;
YPOSOUT := YPOS0 + 550;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 1530;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 25) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 26) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 27) THEN
XPOSOUT := XPOS0 + 550;
YPOSOUT := YPOS0 + 450;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 27) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;




IF (cutDigit = 9) THEN

IF (curSeq = 20) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 550;
END_IF;


//Fire laser while moving through sequence
IF (curSeq > 20) AND (curSeq < 100) THEN
LASERPWM := 0.8;
ELSE
LASERPWM := 0.0;
END_IF;

IF (curSeq = 21) THEN
XPOSOUT := XPOS0 + 1475;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 1520;
END_IF;

IF (curSeq = 22) THEN
XPOSOUT := XPOS0 + 450;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 23) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 450;
END_IF;

IF (curSeq = 24) THEN
XPOSOUT := XPOS0 + 2505;
YPOSOUT := YPOS0 + 1520;
END_IF;


IF (XPOSOUT = XPOSACT) AND (YPOSOUT = YPOSACT) THEN
curSeq := curSeq + 1;
END_IF;


//End of engrave sequence looking for 100
IF(curSeq > 24) THEN
curSeq := 100;
LASERPWM := 0.0;
END_IF;
END_IF;
